<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="keyword" content="麻雀, 麻将, 大会, 卓組, 組み合わせ" />
    <title>3 人麻雀 個人戦 重複同卓あり 卓組作成方法 - 麻雀大会用卓組表</title>
  </head>
  <body bgcolor="#e0ffe0">
    <h1>3 人麻雀 個人戦 重複同卓あり 卓組作成方法</h1>

    <h2>条件</h2>
    <ul>
      <li>n 卓 3n 人の選手がいる。</li>
      <li>合計 s 回の対戦をする。</li>
    </ul>

    <p>
      上記の条件のもとで、各選手が同じ選手とばかり何度も同卓することがなるべく無いように、またそれが避けられない場合特定の選手に影響が偏らないように
      (詳細は後述) しました。
    </p>

    <h2>方法</h2>

    <p>
      以下のような<a href="https://ja.wikipedia.org/wiki/%E5%B1%B1%E7%99%BB%E3%82%8A%E6%B3%95">山登り法</a>で行いました。<br />
      同じ卓数・対戦数で「試行により異なる」部分を変えて何回か実行している場合もあり、その場合は全実行の中で最もコスト値が小さい卓組のうちの 1
      つを採用しました。
    </p>

    <ol>
      <li>初期の卓組を作成する。各 (対戦, 選手) に卓番号を割り振る (割り振り方は試行により異なる。卓番号固定の対戦を設定することもある)。</li>
      <li>卓組のコスト値 (小さいほど良い、定義は後述) を計算する。</li>
      <li>
        対戦番号をランダムに選び (卓番号固定の対戦は対象としない)、その対戦において卓番号の異なる選手を 2
        人選び、それらの卓番号を入れ替える。選手の選び方は下記の 2 つの中からランダムに選ぶ。
        <ul>
          <li>
            コスト値の「同じ選手同士が何度も同卓することを防ぐもの」で、より上部にある条件に登場している選手からランダムに 1
            人を選び、他の全選手の中からランダムにもう 1 人を選ぶ。
          </li>
          <li>全選手の中からランダムに 2 人を選ぶ。</li>
        </ul>
      </li>
      <li>
        コスト値を計算し、入れ替え前と比べて増えている (悪化している) 場合は元に戻す。(減っている (改善している)
        場合に加え、等しい場合であっても元には戻さない。)
      </li>
      <li>3・4 を繰り返し、コスト値が減らないことが数千～数万回 (試行により異なる) 連続した場合、その時点での卓組を保存する。</li>
      <li>1 ～ 5 を数十～数百回 (試行により異なる) 繰り返し、保存した卓組のうち最もコスト値が小さいものを採用する。</li>
    </ol>

    <h3 id="cost_value">コスト値について</h3>

    <p>
      卓組について、以下の各値を計算して並べたものをコスト値とします。<br />
      コスト値の大小比較は、上の値から順に比較していき、差がついた時点で比較を終了します。<br />
      「...」は、間の項目の省略を表します。(実際には省略された項目も計算・比較しています。)
    </p>

    <ul>
      <li>
        <b>同じ選手同士が何度も同卓することを防ぐもの</b>
        <ul>
          <li>s 回同卓する 3 人組数</li>
          <li>s 回同卓する 2 人組数</li>
          <li>...</li>
          <li>3 回同卓する 3 人組数</li>
          <li>3 回同卓する 2 人組数</li>
          <li>2 回同卓する 3 人組数</li>
          <li>2 回同卓する 2 人組数</li>
        </ul>
      </li>
      <li>
        <b>同じ選手同士の同卓が避けられない場合に、特定の選手ばかりが影響を受けることを防ぐもの</b>
        <ul>
          <li>「s 回同卓する 3 人組リスト」に最も多く登場する選手の登場回数</li>
          <li>「s 回同卓する 2 人組リスト」に最も多く登場する選手の登場回数</li>
          <li>...</li>
          <li>「3 回同卓する 3 人組リスト」に最も多く登場する選手の登場回数</li>
          <li>「3 回同卓する 2 人組リスト」に最も多く登場する選手の登場回数</li>
          <li>「2 回同卓する 3 人組リスト」に最も多く登場する選手の登場回数</li>
          <li>「2 回同卓する 2 人組リスト」に最も多く登場する選手の登場回数</li>
        </ul>
      </li>
    </ul>

    <p>
      ここでは、小さくなってほしい値ほど上に置いています。<br />
      そのため、卓組のコスト値を小さくすることで、同じ選手とばかり何度も同卓することがなるべく無いように、そのうえで特定の選手に影響が偏らないようになります。<br />
      <br />
      各卓組ページの下部に、コスト値の各項目の値を記載しています。また、複数回同卓する 2, 3
      人組が存在する場合は、重複同卓者の欄に選手番号を記載しています。<br />
      各卓組について、上記の方法を用いることでなるべくコスト値の小さいものが選ばれるようになっていますが、そのコスト値が理論上最小であることは保証しません。
    </p>

    <h2>ソースコード</h2>
    <p>GitHub で公開する予定です。</p>

    <br />
    <a href="index.html#3g_kojin_sen">卓組一覧「3 人麻雀用 個人戦・3 人チーム戦用」へ戻る</a>
  </body>
</html>
