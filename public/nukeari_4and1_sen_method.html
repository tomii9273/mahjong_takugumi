<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="keyword" content="麻雀, 麻将, 大会, 卓組, 組み合わせ" />
    <title>抜け番あり 1 人 4 戦 合計 5 戦 卓組作成方法 - 麻雀大会用卓組表</title>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7223833457018836"
      crossorigin="anonymous"
    ></script>
  </head>
  <body bgcolor="#e0ffe0">
    <h1>抜け番あり 1 人 4 戦 合計 5 戦 卓組作成方法</h1>

    <h2>条件</h2>
    <ul>
      <li>4n + k (1 ≦ k ≦ 3) 人の選手がいる。(人数は 4 の倍数でなく、4 で割ると n 余り k である、という意味)</li>
      <li>試合枠を 5 戦分設定する。</li>
      <li>
        各選手は、そのうちの丁度 4 回に参加する。
        <ul>
          <li>最初の 4 戦は、それぞれについて、k 人が参加せず、その他の 4n 人が参加し、n 卓で行う。</li>
          <li>最後の 1 戦は、不参加を経験した 4k 人が参加し、k 卓で行う。</li>
        </ul>
      </li>
      <li>どの選手も、同じ相手と複数回同卓しない。</li>
    </ul>

    <p>22 人 (n = 5, k = 2, 4n + k = 22) の例</p>
    <img src="images/nukeari_00.png" alt="22 人 (n = 5, k = 2) の例" width="25%" height="25%" />

    <h2>方法</h2>

    <h3>① 15 人 または 19 人以上 ((n, k) = (3, 3) または (n, k) = (4, 3) または n ≧ 5) の場合</h3>

    <p>k の値 (人数を 4 で割った余り) に応じて、以下の操作を行います。</p>

    <h4>k = 1 の場合</h4>

    <p>
      <b>n 卓の 4 チーム戦の卓組を 4 戦分</b>用意します。<br />
      その際、(どの選手も同じ相手と複数回同卓しないことは前提で、それに加え)
      <b>同じ卓を複数回使用する人がいない</b>ように、各対戦の卓番号を調整します。<br />
      <a href="4team_sen_method.html">4 チーム戦 卓組作成方法</a>の ① で作ったものを使う場合は、全員の卓番号を、2 戦目は +1、3 戦目は +2、4 戦目は +3
      とずらすことでうまくいきます。<br />
      ② で作ったものを使う場合は、4 戦の抜き出し方や、各対戦の卓番号のずらす数をプログラムで全探索すると、うまく調整できます。<br />
      その後、以下の操作を行います。
    </p>

    <ol>
      <li>4 チーム戦の卓組の末尾に 1 人を付け足す (これで合計が n 人になる)。全ての対戦に「卓番号 1」を記入する。</li>
      <li>1 チーム目の全ての対戦の「卓番号 1」をすべて「抜け番」に書き換える。</li>
      <li>卓組の右に 1 戦を付け足し、抜け番を経験した選手に「卓番号 1」を記入する。</li>
    </ol>

    <p>下の画像は、21 人 (n = 5, k = 1) の場合の例です。</p>

    <img src="images/nukeari_01.png" alt="5 卓の 4 チーム戦の卓組 4 戦分を元に 21 人 (n = 5, k = 1) の抜け番あり 4 + 1 戦の卓組を作る例" />

    <h4>k = 2 の場合</h4>

    <p>
      <b>n 卓の 4 チーム戦の卓組を 4 戦分</b>用意し、<b>同じ卓を複数回使用する人がいない</b>ように、各対戦の卓番号を調整するところまでは「k = 1
      の場合」と同じです。<br />その後、以下の操作を行います。
    </p>

    <ol>
      <li>
        4 チーム戦の卓組の末尾に 2 人を付け足す (これで合計が n 人になる)。
        <ul>
          <li>付け足した 1 人目の全ての対戦に「卓番号 1」を記入する。</li>
          <li>付け足した 2 人目の全ての対戦に「卓番号 2」を記入する。</li>
        </ul>
      </li>
      <li>
        以下をすべて「抜け番」に書き換える。
        <ul>
          <li>1 チーム目の全ての対戦の「卓番号 1」</li>
          <li>2 チーム目の全ての対戦の「卓番号 2」</li>
        </ul>
      </li>
      <li>
        卓組の右に 1 戦を付け足し、抜け番を経験した選手に、以下のように記入する。
        <ul>
          <li>1 チーム目の選手に「卓番号 1」を記入する。</li>
          <li>2 チーム目の選手に「卓番号 2」を記入する。</li>
        </ul>
      </li>
    </ol>

    <p>下の画像は、22 人 (n = 5, k = 2) の場合の例です。</p>

    <img src="images/nukeari_02.png" alt="5 卓の 4 チーム戦の卓組 4 戦分を元に 22 人 (n = 5, k = 2) の抜け番あり 4 + 1 戦の卓組を作る例" />

    <h4>k = 3 の場合</h4>

    <p>
      <b>n+1 卓の 4 チーム戦の卓組</b> (作りたい抜け番あり卓組より 1 人多いもの) <b>を 4 戦分</b>用意し (参考:
      <a href="4team_sen_method.html">4 チーム戦 卓組作成方法</a>)、以下の操作を行います。
    </p>

    <ol>
      <li>末尾の選手の 1 戦目の卓番号を確認し、1 戦目のその番号すべて (4 か所) を「抜け番」に書き換える。</li>
      <li>2 ～ 4 戦目も同様に行う。</li>
      <li>末尾の選手を削除する。</li>
      <li>
        卓組の右に 1 戦を付け足し、抜け番を経験した選手に、以下のように記入する。
        <ul>
          <li>1 チーム目の選手に「卓番号 1」を記入する。</li>
          <li>2 チーム目の選手に「卓番号 2」を記入する。</li>
          <li>3 チーム目の選手に「卓番号 3」を記入する。</li>
        </ul>
      </li>
      <li>1 ～ 4 戦目の卓番号に抜け (使われていない番号) がある場合は、ずらすことで調整する。</li>
    </ol>

    <p>下の画像は、19 人 (n = 4, k = 3) の場合の例です。</p>

    <img src="images/nukeari_03.png" alt="5 卓の 4 チーム戦の卓組 4 戦分を元に 19 人 (n = 4, k = 3) の抜け番あり 4 + 1 戦の卓組を作る例" />

    <h3>② 18 人 ((n, k) = (4, 2)) の場合</h3>

    <p>プログラムによる全探索で作成しました。(後日追記します。)</p>

    <h2>ソースコード</h2>
    <p>GitHub で公開しています。</p>
    <ul>
      <li>
        <a href="https://github.com/tomii9273/takugumi_code/tree/main/src#4ma_nukeari_4and1_senpy"
          >① 15 人 または 19 人以上 ((n, k) = (3, 3) または (n, k) = (4, 3) または n ≧ 5) の場合</a
        >
      </li>
    </ul>

    <h2>補足</h2>

    <ul>
      <li>
        当サイトに掲載している卓組は、上記の方法で作成した後に、以下の操作を複数回行っている場合があります。
        <ul>
          <li>卓番号の入れ替え (例: 1 戦目の卓番号 1 を 2 に、2 を 3 に、3 を 1 に全て書き換えている)</li>
          <li>選手番号の入れ替え</li>
          <li>対戦番号の入れ替え</li>
        </ul>
      </li>
      <li>今後、18 人の卓組の作成方法 (③)・ソースコード (Python) とその実行時間を掲載する予定です。</li>
    </ul>

    <br />
    <a href="index.html#nukeari_4and1_sen">卓組一覧「抜け番あり 1 人 4 戦 合計 5 戦」へ戻る</a>
  </body>
</html>
